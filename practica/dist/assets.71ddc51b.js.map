{"version":3,"sources":["assets/MediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/plugins/Ads/Ads.ts","assets/plugins/Ads/index.ts","assets/index.ts"],"names":[],"mappings":"cACA;;;;;;AAEA,AEDA,ADAA,IDCA,AEDA,ADAA,QAAA,CCAA,EFCA;AAAA,AEDA,ADAA;ADCA,AEDA,ADAA,YDCA,AEDA,ADAA;ADKI,AEFA,ADFA,WDIA,AEFA,ADFA,QAAA,CCEA,EFEA,ACJA,CDIY,AEFZ,ADFiB,MDIjB,EAAkB;AACd,AEFA,SFEK,AEFA,KFEL,GAAa,CEFb,GAAiB,EFEE,CAAC,CEFpB,CFEA;AACA,AEFA,ADHJ,EAAA,ODKS,AEFA,CDHT,CAAA,KDKI,GAAe,CCLnB,CAAA,GAAA,CDKyB,CAAC,CEFtB,ADHJ,GCG8B,GFEX,EEFgB,EFEE,ACLjC,EDKA,ICLJ,EAAuB,QCGO,CAAwB,IAAxB,CAA6B,IAA7B,CAA1B;AFGA,AKVR,ADCA,AFOQ,ADHA,IILR,ADCA,IHIY,CDKC,AITb,AFOa,ADHA,GGJb,GHImB,CAAC,CILpB,ELUQ,CKVR,CJKa,CAAa,KGJ1B,AHIQ,CGJR,CHIiC,ECGzB,GAA8B,CGRtC,ADCA,CCDA,ADCA,GFO2C,IGR3C,ADCA,CCDA,ADCA,CAAA,EAEA,YCHA,CAAA,CAAA,AHQsC,CAA4B,IAA5B,CAAiC,IAAjC,CAA9B;AFGA,AGJR,ADEK,ADHO,IECN,EFDM,GDKC,EGJA,CFDK,CAAC,CECG,CAClB,GFFQ,CAAa,CDKjB,ICLI,GAAqB,IAArB;ADMP,AKXL,AFQQ,AFFC,EEED,EERR,MFQgB,EAAE,EERlB,GAAA,eAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,CAAA,iEFOI;AAEI,ACNR,AFMI,ECAI,ADAJ,EENJ,GDMa,EAAE,EDAX,CAAA,CENJ,QFMI,CAAA,GAAA,GAAA,UAAI,ICFJ,EDEA,EAAU;AFIV,AKZJ,AFSQ,ACPR,AFOQ,ADHA,EDMJ,AGHI,EETR,AJMQ,EEGI,EAAE,EFHA,CAAC,EDMX,CAAA,CKZJ,AJMQ,GINR,KLYI,CAAA,SKZJ,CLYI,AKZJ,GLYI,IKZJ,CAAA,OLYI,cKZJ,CAAA,CAAA,iEFMI;AHOI,AGHA,ACRR,AFQQ,ADHH,EEGG,CFRJ,EEQO,EAAE,EHGA,AEHA,GERb,GFQQ,GFGA,AEHc,GFGG,GEHjB,CAFM,CAGN,GFEyB,CAAC,aAAT,CAAuB,KAAvB,CAAjB;AACA,AKbR,AFKI,ACGA,AFGI,CCPc,EAOlB,CEXJ,KLaa,AKbb,EDQI,CCRJ,MLaQ,CAAe,CILnB,GAAA,CJKI,CAAqB,EKb7B,CAAA,KLaQ,EKbR,CLawC,AKbxC,ULaQ,CAFJ,CAGI,WKdR,CAAA,CAAA,EAEA;AFUQ,ACHA,AHFR,EEKQ,OCHK,AHFb,CEKgB,EAAE,ACHV,GAAW,EHFnB,GGEmB,CAAA,OAAA,CAAI,WAAJ,EAAX,kFDEJ;AHII,AGFA,ACHA,AFEA,ADbR,CAAA,CEcQ,CFdR,IEca,CDDC,CFGD,AGFE,ACHF,KJKL,CAAW,CEHG,GAAG,EEFjB,EFEqB,CEFD,CJKpB,CAAsB,MILM,CAAC,KJK7B,AGJJ,CHIuC,IEHlB,CFGuB,AEHE,EEFtB,CAAuB,EFEI,GEF3B,CJKpB,AILA,EJKmD,KAAK,KAAxD,EAJJ,AECqB,CFIjB,CEJmE;AGT3E,AFWQ,ACHA,AFEI,ECCJ,EEXF,EFWM,EAAE,CEXH,ADQE,GCRC,QAAQ,CAAC,IDQf,GAAwB,KAAK,CCRvB,CAAuB,OAAvB,CAAd,MDQgC,CAAsB,IAAtB,CAA2B,IAA3B,CAAxB,yEDAJ;AHMI,AKbR,AFWQ,ACHH,AFEO,ADNZ,EEOQ,EEXF,CFWK,CDDC,CCCC,AFPb,CAAA,CDSa,CKbD,GAAgB,EHUP,ADNrB,ECMuB,CFGf,ACTO,CDSQ,EKba,CAAC,AHUT,IDN5B,IDSQ,CAA2B,IKbP,CLaY,AKbW,KLa3C,GKboB,CAA5B;ALcK,AKbL,AFMI,ADCuE,CCRrD,EHOlB,AGMA,CHjBJ,AKKM,CLeF,AERqB,CAAjB,CALM,CASN,MGXQ,GAAgB,QAAQ,CAAC,aAAT,CAAuB,aAAvB,CAAhC;AAEA,AFWQ,ACLJ,EDKI,ACLJ,ECNE,MAAM,AFWI,CCLZ,CDKc,ACLd,CCNW,IAAI,IDMf,CAAA,GAAA,GAAA,ECNe,CAAA,OAAJ,ADMP,CCNuB,KDM3B,EAAuB,wEDIvB;AETF,AFWM,ACLA,AFGA,EGTN,AFWM,EEXJ,AHSI,EGTF,CFWO,EAAE,ACLF,ECPkB,CHUf,CAAC,EEHT,GAAc,EFGd,CAAiB,GEHjB,EFGsB,MAAL,CAAY,KAA7B,CCAJ,CDVU,CAYN;AFEI,AKbC,AFYL,ACLA,AFKA,EFCI,AKbC,AFYL,IAAI,EAAE,CEZM,ADOP,ECPS,CAClB,CLYQ,CAAA,AINJ,ECNA,CDMa,KAAK,CJMd,CAAA,EKZJ,CAAA,CDMa,CAAY,KCN7B,ADMI,CJMI,CKbU,ELalB,AKZgB,IAAI,QLYpB,GKZoB,CAAA,OAAJ,EADE,EACe,IAAI,KAAA,CAAA,OAAJ,EADf,yEFSlB;AHIA,AKd2B,AFcvB,ACLA,AFKA,CGdO,CAAf,AFcQ,GAAG,EAAE,CHAT,CILS,IJKT,EILI,CJKJ,AILgB,IJKhB,KILI,CAAsB,WAAtB,CAAkC,KAAK,YAAvC,EAHmB,CAInB;ADAJ,ADKI,CClBc,EAmBlB;AHDI,AKVR,AFYQ,ACNA,EDMA,IEZF,CAAC,ELUM,AIJA,CDMG,EAAE,EEZlB,ADMQ,CAAW,CJIX,CAAa,AKVJ,OLUT,CAAqB,IKVZ,EDMT,CAA4B,GJIP,MAAA,EAAM,CIJ3B,EAA0C,KAAK,gBAA/C,8CDKJ;AHAQ,AKXW,AFaf,ACNH,AFIG,ECEA,CCZJ,CFUI,EFAI,CGEC,EEbU,AFaR,GHFG,AEAF,CFAG,AEAF,EGXY,CLWjB,AKXkB,CLWP,KAAX,IKXW,EAAA,CHWf,CAA0B,kBAA1B,EAA8C,KAAK,sBAAnD,6DCAJ;AHCK,AKZiC,AFclC,ADFH,CGZL,EHLI,CARJ,CFuBQ,AEIJ,KCAY,0HAHZ;AHEC,AGEG,ACNI,EDMJ,ACNI,CJAA,EGMD,EAAE,ICND,CAAA,SAAA,CAAA,gBAAA,GAAR,YAAA;AJKA,AKbJ,AFUI,ACDI,CDlBc,EAyBlB,OEhBM,CAAC,OAAX,GAAqB,YAAA;AAAM,AFiBnB,ACPA,AFII,ECGJ,ADHI,MEJE,CCVa,CFiBX,CDHJ,CCGM,ADHN,GGdqB,CAAC,GDUT,EFIb,CEJgB,AFIhB,IGde,ADUK,CAAC,CCVN,IDUC,CAAW,KAAK,EFIhC,GEJ2B,AFInC,CEJ8C,SFInB,EEJH,CAApB,CAFJ,CAGI,EFGJ,EAA+D,kECE/D;AHDA,AKf0C,AFkBtC,ADHA,CGfR,UFkBiB,wCAFb;AAGI,ACPA,AFIA,QEJI,AFIE,ECGE,GDHG,GAAG,GEJC,GAAG,CFIG,CEJjB,AFIkB,CAAD,CAArB,EEJwB,CAAxB,EAA2B,8HDI/B;AEdJ,AFkBQ,ACPI,AFIJ,IGfJ,IHeU,CCGC,ECPE,MFIM,EEJX,CFIc,GGfH,EHeQ,CAAC,MGfhC,EAAkC,SHeR,IAA2B,KAAK,SAAlD;AFDJ,AKbF,AFaE,ACFK,CDvBa,CHyBlB,AKbF,CFmBE,QEnBO,CAAC,CLaR,CAAA,SAAA,CAAA,CKbF,CAAwB,ELatB,GAAA,GKbF,CAAiC,QLa/B,8BKbF,EAA2C,KAA3C,CAAiD,UAAA,KAAA,EAAK;ALchD,AKbJ,AFmBI,ACRH,AFIG,ECIA,CCfI,CCJR,ADhBJ,CA6BI,GFEQ,CFFC,CGMG,CEnBL,CAAC,AFmBM,EHNV,CAAW,AKbf,CAAY,CHeR,EFFA,AEEe,EGfF,CAAC,OAAlB,6FFkBA;AHJC,AKbF,AFmBK,ADJI,ECIJ,CHRJ,AKbF,IFqBW,EAAE,EDJE,MAAL,CAAY,IAAZ,kBCER;AEhBH,AFmBO,ADJC,ECID,GDNA,CCMI,EAAE,GDJC,4MCCX;AHHA,AGOI,ACRI,AFIA,EFHR,AGOI,ACRI,GDQD,EAAE,ICRD,AFIK,CEJL,CJCR,CAAA,GEGQ,CAAY,GEJZ,CAAA,CJCR,AEGQ,CFHR,KAAA,CIDQ,EJCR,CIDA,WJCA,CIDA;AJEI,AGEJ,ACJA,AFKK,CChCa,EAqClB,KCVA,CJES,IIFT,CJEI,CAAW,CIFf,IJEI,AIFJ;AJGC,AGQG,ADHH,ECGG,CHVJ,AELQ,CA5BZ,CA0CI,KCCY,EAAE,mGADd;AAEI,ACXA,AFUJ,ECCI,KAAK,CCXD,CDWG,ICXE,SAAT,EAAoB,aDSxB;AHNA,AGSI,ACXI,EJER,AGSI,IAAI,EAAE,KHTV,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA,6KGMA;AHLI,AGSA,ACXC,EDWD,GAAG,EAAE,CHTD,KAAK,KAAL,CAAW,MAAf,EAAuB;AACnB,AGIR,ADEQ,CCvCU,CDuCV,CCIR,QHVa,AEML,CAAA,GFNA,MEMA,CAAA,sBAAA,GAAR,YAAA;AFLK,AGUD,ACZA,AFQA,ECIA,GHZA,GIAM,AFQA,ECIE,ACZA,CJED,CGUG,CCZC,IFQI,CERC,EFQE,CERP,CAAS,KAAT,CFQe,CER1B,AFQ2B,eAAT,IAA4B,SAA9C,4DCGJ;AHRQ,AGUJ,ACZA,EDYA,KAAK,EAAE,ACZF,EJEI,KAAL,EIFJ,GAAiB,EAAjB,iBDUJ;AHPK,AGUD,ACZA,AFOA,ECKA,IAAI,EAAE,ADLF,CEPC,QFOL,EAAe,EEPf,CAAkB,SAAlB,GAA8B,gFAEG,KAAK,SAAL,CAAe,EDOpD,CCTkC,GAEqB,qEAFrB,GAGK,KAAK,SAAL,CAAe,QAHpB,GAG4B,2FAH5B,GAKG,KAAK,SAAL,CAAe,KALlB,GAKuB,gDALvB,GAMC,KAAK,SAAL,CAAe,IANhB,GAMoB,0EANlD;AJGH,AGUG,ACDA,AFJI,ECKJ,CHhBJ,CIeI,CDCG,EAAE,IDLI,GEIC,CAAC,EFJP,CAAY,IAAZ,KEIO;ADHf,ACIQ,AFJH,CC3Ca,CAAtB,GDyCQ,CEMI,KAAI,AFJD,CEIE,SAAL,GAAiB,IAAjB;AJTR,AIUQ,AFJA,EFNR,IIUQ,KAAI,AFJC,CEIA,CJVb,CAAA,GEMQ,CAAY,KFNpB,AEMQ,CFNR,AIUQ,CAAkB,GJV1B,GAAA,GIUQ,GAA8B,EAA9B,IJVR;AACI,AGYR,ACFS,AFJA,ICMT,CCLkB,EDKlB,ACFW,EJVE,GIOK,CAAV,CJPA,CAAW,KAAX,GAAmB,IAAnB;AACH,AGWL,ACDK,AFHA,GFTD,AIXQ,AFYA;ACYZ,YAAA;AHVI,AGaA,ACHJ,AFFA,EFRI,OIUJ,AFFA,ECKI,EHbA,CAAA,AGaA,GAAA,CCHJ,AFFA,KFRI,CAAA,MAAA,GAAA,YAAA;AACI,AGaA,AC1DR,AFFA,CEEA,AFFA,EEEA,AFFA,MF+Ca,AGaA,KHbL,CAAW,CGaX,IHbA,GAAmB,KAAnB;AACH,AGaA,GHfD;AIWJ,AFFA,OEEA,AFFA,CEEA,AFFA,OEEA,AFFA,GEEe,AFFA,SEEf,AFFA;AFNI,AGcO,EHdP,AGcO,GAAA,CAAA,OHdP,CAAA,GGcO,GAAP,GHdA,CAAA,QGcA,EHdA,GAAA,YAAA;AACI,AGcA,QHdI,AGcA,CAAC,GAAG,CHdC,AGcA,KHdL,CAAW,EGcf,EAAmB,CHdf,IAAoB,IAAxB,EAA8B;AAC1B,AGcA,MAAA,GAAG,CAAC,CHdC,MAAL,CGcA,GAAe,IAAI,GAAJ,EAAf;AHbH,AGcA,KHhBD,MAEO;AACH,WAAK,IAAL;AACH,AGcD,WAAO,GAAG,CAAC,QAAX;AHbH,AGcA,GHpBD,AGcO;;AHPX,AGeY,EAAA,GAAA,CAAA,GHfZ,MGeY,CAAA,IHfZ,GGeY,GAAR,YAAA;AHtEJ,AGuEQ,CHvER,EAAA;AAgEA,AGQQ,SAAK,GAAL,GAAQ,cAAA,CAAO,OAAP,CAAR;AAEH,GAJO;;AAMR,EAAA,GAAA,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AHTJ,AGWQ,OHXR,CAAA,OAAA,GAAe,WAAf,EAEA;AGUQ,QAAI,KAAK,GAAL,CAAS,MAAT,KAAoB,CAAxB,EAA2B;AACvB,WAAK,OAAL;AACH,KALL,CAMI;;;AACA,WAAO,KAAK,GAAL,CAAS,GAAT,EAAP;AACH,GARD;;AASJ,SAAA,GAAA;AA9BA,CAAA,EAAA;;AAgCA,OAAA,CAAA,OAAA,GAAe,GAAf","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["\r\n// Creamos una función llamada mediaPlayer que nos servirá como prototipo.\r\n\r\nclass MediaPlayer {\r\n    media: HTMLMediaElement;\r\n    plugins: Array<any>\r\n    container: HTMLElement;\r\n    constructor(config) {\r\n        this.media = config.el;\r\n        this.plugins = config.plugins || [];\r\n        this.initPlayer();\r\n        this.initPlugins();\r\n    }\r\n\r\n    initPlayer() {\r\n        this.container = document.createElement('div');\r\n        this.container.style.position = 'relative'\r\n        //Contenedor al lado de media\r\n        this.media.parentNode.insertBefore(this.container, this.media)\r\n        //Media adentro de contenedor, ya que se vuelve hijob\r\n        this.container.appendChild(this.media)\r\n    }\r\n\r\n    //this indica llamar a mediaplayer\r\n    private initPlugins() {\r\n        this.plugins.forEach(plugin => {\r\n            plugin.run(this);\r\n        });\r\n    }\r\n    /*  A mediaPlayer le asignamos una función llamada play usando prototype.\r\n     Esta función le dará inicio al video. */\r\n    //Si está pausado, puede darse play, si está en play, puede pausarse con click.\r\n    play() {\r\n        this.media.play();\r\n    }\r\n    pause() {\r\n        this.media.pause();\r\n    }\r\n    togglePlay() {\r\n        if (this.media.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n    }\r\n    mute() {\r\n        this.media.muted = true;\r\n    }\r\n    unmute() {\r\n        this.media.muted = false;\r\n    }\r\n    unmuteMute() {\r\n        if (this.media.muted == true) {\r\n            this.unmute();\r\n        } else {\r\n            this.mute();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*    Luego con el botón se acciona una función llamada player que es una instancia del prototipo mediaPlayer que creamos.\r\nLa instancia se crea usando la palabra new. */\r\n\r\nexport default MediaPlayer;\r\n\r\n//Se debe exportar para poder usarse","import MediaPlayer from '../MediaPlayer'\r\n\r\nclass AutoPlay {\r\n    constructor() { }\r\n    run(player: MediaPlayer) {\r\n        if (!player.media.muted) {\r\n            player.media.muted = true;\r\n        }\r\n        player.play();\r\n    }\r\n}\r\nexport default AutoPlay;","\r\nimport MediaPlayer from '../MediaPlayer'\r\nclass AutoPause {\r\n    private threshold: number;\r\n    private player: MediaPlayer;\r\n    constructor() {\r\n        this.threshold = 0.25;\r\n        this.handleIntersection = this.handleIntersection.bind(this)\r\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this)\r\n    }\r\n    run(player) {\r\n        //Llamamos a la instancia de la clase\r\n        this.player = player;\r\n        //Creamos el intersection observer\r\n        //Primero recibe un handler y el segundo es ub objeto de configuración\r\n        const observer = new IntersectionObserver(this.handleIntersection, {\r\n            //Esto define qué percibirá del elemento, en este caso, 25% de elemento que sobre\r\n            threshold: this.threshold\r\n        });\r\n        //Lo que va a observar, que en este caso es el video\r\n        observer.observe(this.player.media)\r\n\r\n        //Este evento detiene algo si no está siendo visto, en este caso\r\n        //si sales de la pestaña del video, el se detendrá\r\n        //Esto es muy util para también detener info o carruseles que el usuario no esté viendo\r\n        //o incluso desactivar sonidos si se apaga la pantalla en descanso\r\n        document.addEventListener(\"visibilitychange\", this.handleVisibilityChange)\r\n    }\r\n\r\n    //Aquí hay que pasar una lista de entries, son todos los objetos que se están observando\r\n    private handleIntersection(entries: IntersectionObserverEntry[]) {\r\n        //Le indicamos que es un solo elemento de la lista\r\n        const entry = entries[0];\r\n        const isVisible = entry.intersectionRatio >= this.threshold\r\n\r\n        if (isVisible) {\r\n            this.player.play();\r\n        } else {\r\n            this.player.pause();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    //Aquí la función que recibe, el cual es un boolean en el que si es true hace algo, y si es false,\r\n    //la idea es detenerlo, visibility sabrá cuando detenerlo\r\n    private handleVisibilityChange() {\r\n        const isVisible = document.visibilityState == \"visible\"\r\n        if (isVisible) {\r\n            this.player.play();\r\n        } else {\r\n            this.player.pause()\r\n        }\r\n\r\n    }\r\n\r\n}\r\nexport default AutoPause;","export interface Ad {\r\n    imageUrl: string,\r\n    title: string,\r\n    body: string,\r\n    url: string\r\n}\r\n\r\nconst ALL_ADS: Ad[] = [\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-profesional-javascript-13538df2-24ce-433f-9aa6-e34eed608e70.png\",\r\n        title: \"Curso Profesional de JavaScript\",\r\n        body: \"Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.\",\r\n        url: \"https://platzi.com/cursos/javascript-profesional/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-frontend-developer-8a49e681-3e22-408d-b886-2f47dfc9953a.png\",\r\n        title: \"Curso de Frontend Developer\",\r\n        body: \"Domina las bases de HTML y CSS. Define la arquitectura de tu código y construye un sitio web usando componentes estáticos. \",\r\n        url: \"https://platzi.com/cursos/frontend-developer/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-backend-node-8e6aa8a9-f7cd-42b7-bf4a-e1ee916a942b.png\",\r\n        title: \"Curso de Backend con Node.js\",\r\n        body: \"Crea aplicaciones backend utilizando Node.js, Express y Mongo. Entiende cómo funciona Javascript en un servidor y escribe aplicaciones con Node.js.\",\r\n        url: \"https://platzi.com/cursos/backend-nodejs/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-prework-da6b0493-9908-40f3-ad53-f5d330b995b8.png\",\r\n        title: \"Comienza tus proyectos de desarrollo para JavaScript configurando un entorno de desarrollo cómodo y adaptado a tus necesidades.\",\r\n        \"body\": \"Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.\",\r\n        url: \"https://platzi.com/cursos/prework/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-autenticacion-passport-6d45426a-2b24-4757-8927-7bfaf54529dd.png\",\r\n        \"title\": \"Curso de Autenticación con Passport.js\",\r\n        \"body\": \"Genera estrategias de autenticación Sign-In y Sign-Out usando Passport.js. Agrega autenticación con Facebook, Twitter y Google a tus desarrollos.\",\r\n        \"url\": \"https://platzi.com/cursos/passport/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-backend-frontend-02b2ac18-331a-4959-85bf-0bd3c2aa009c.png\",\r\n        title: \"Curso de Backend for Frontend\",\r\n        body: \"La ingeniería de software evoluciona día a día, no te quedes atrás. Ahora que eres un Desarrollador FullStack JavaScript necesitas evolucionar con el software, construye arquitecturas de software modernas.\",\r\n        url: \"https://platzi.com/cursos/bff/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-react-adec89d0-1c35-4c9c-847e-18c284dc79dd.png\",\r\n        title: \"Curso Práctico de React JS\",\r\n        body: \"React es una de las librerías más utilizadas hoy para crear aplicaciones web. Aprende a través de la creación de la interfaz de PlatziVideo todo lo que necesitas para crear increíbles componentes con React.      \",\r\n        url: \"https://platzi.com/cursos/react-ejs/\"\r\n    },\r\n    {\r\n        imageUrl: \"https://static.platzi.com/media/achievements/badge-react-redux-2ca3c0a5-fc53-437f-bfba-69e9ddd5a803.png\",\r\n        title: \"Curso de React Router y Redux\",\r\n        body: \"Aprende de forma práctica a implementar React Router para manejar rutas en tus proyectos de frontend como un profesional.\",\r\n        url: \"https://platzi.com/cursos/react-router-redux/\"\r\n    }\r\n];\r\n\r\nclass Ads {\r\n    private static instance: Ads;\r\n    private ads: Ad[]\r\n    private constructor() {\r\n        this.initAds()\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!Ads.instance) {\r\n            Ads.instance = new Ads();\r\n        }\r\n\r\n        return Ads.instance;\r\n    }\r\n\r\n    private initAds() {\r\n        //Creamos una copia del arreglo para dejar el original intacto\r\n        this.ads = [...ALL_ADS]\r\n\r\n    }\r\n\r\n    getAd() {\r\n\r\n        //Si el arreglo se acaba y no hay más elementos que sacar, se reinicia el arreglo\r\n        if (this.ads.length === 0) {\r\n            this.initAds()\r\n        }\r\n        // pop sacará del arreglo un valor y lo regresará\r\n        return this.ads.pop()\r\n    }\r\n}\r\n\r\nexport default Ads;","import MediaPlayer from '../../MediaPlayer'\r\nimport Ads, { Ad } from './Ads'\r\n\r\n//todos los plugin tienen el metodo publico run así que lo llamamos e importamos\r\nclass AdsPlugin {\r\n    private ads: Ads;\r\n    private player: MediaPlayer;\r\n    private media: HTMLMediaElement;\r\n    private currentAd: Ad;\r\n    private adsContainer: HTMLElement;\r\n\r\n    constructor() {\r\n        this.ads = Ads.getInstance()\r\n        this.adsContainer = document.createElement('div')\r\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\r\n    }\r\n    run(player: MediaPlayer) {\r\n        this.player = player;\r\n        this.media = this.player.media;\r\n        this.player.container.appendChild(this.adsContainer)\r\n        //timeupdate anuncia el cambio del tiempo y permite realizar acciones en dicho tiempo determinado\r\n        this.media.addEventListener('timeupdate', this.handleTimeUpdate)\r\n    }\r\n\r\n    private handleTimeUpdate() {\r\n        //math.floor regresa un valor entero\r\n        const currentTime = Math.floor(this.media.currentTime)\r\n        // Cada 30 seg desplega un ad\r\n        if (currentTime % 30 == 0) {\r\n            this.renderAd()\r\n        }\r\n    }\r\n\r\n    //Esta función llama al get\r\n    private renderAd() {\r\n        if (this.currentAd) {\r\n            return;\r\n        }\r\n\r\n        const ad = this.ads.getAd();\r\n        this.currentAd = ad;\r\n        this.adsContainer.innerHTML = `\r\n          <div class=\"ads\">\r\n            <a class=\"ads__link\" href=\"${this.currentAd.url}\" target=\"_blank\">\r\n              <img class=\"ads__img\" src=\"${this.currentAd.imageUrl}\" />\r\n              <div class=\"ads__info\">\r\n                <h5 class=\"ads__title\">${this.currentAd.title}</h5>\r\n                <p class=\"ads__body\">${this.currentAd.body}</p>\r\n              </div>\r\n            </a>\r\n          </div>\r\n        `;\r\n\r\n        setTimeout(() => {\r\n            this.currentAd = null;\r\n            this.adsContainer.innerHTML = '';\r\n        }, 10000);\r\n    }\r\n}\r\nexport default AdsPlugin;","import MediaPlayer from './MediaPlayer'\r\nimport AutoPlay from './plugins/AutoPlay'\r\nimport AutoPause from './plugins/AutoPause'\r\nimport Ads from '../assets/plugins/Ads'\r\n\r\n//Aquí, se debe importar el archivo media player para que funcione\r\nconst video = document.querySelector(\"video\");\r\nconst button: HTMLElement = document.querySelector(\"button\");\r\nconst unmuteMute: HTMLElement = document.querySelector('#unmuteMute')\r\n\r\nconst player = new MediaPlayer({\r\n  el: video, plugins: [\r\n    new AutoPlay(), new AutoPause(), new Ads()]\r\n});\r\n\r\nbutton.onclick = () => player.togglePlay();\r\nunmuteMute.onclick = () => player.unmuteMute();\r\n\r\nif ('serviceWorker' in navigator) {\r\n  navigator.serviceWorker.register('/sw.js').catch(error => {\r\n    console.log(error.message)\r\n  })\r\n}"]}